@echo off
chcp 65001 >nul
title Criar arquivo .env
color 0B

cls
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                                                               โ
echo โ              ๐ CRIAR ARQUIVO .env                            โ
echo โ                                                               โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
echo Este script vai criar o arquivo .env para vocรช.
echo.
echo Vocรช jรก criou a fรกbrica no navegador e copiou a API Key?
echo.
echo Pressione qualquer tecla para continuar...
pause >nul

cls
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo  Cole a API Key abaixo:
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

set /p API_KEY="API_KEY: "

if "%API_KEY%"=="" (
    echo.
    echo โ API Key nรฃo pode estar vazia!
    pause
    exit /b 1
)

REM Valida formato bรกsico
echo %API_KEY% | findstr /R "^HUB_" >nul
if %errorlevel% neq 0 (
    echo.
    echo โ๏ธ  ATENรรO: API Key nรฃo comeรงa com HUB_
    echo    Tem certeza que copiou corretamente?
    echo.
    set /p CONTINUAR="Continuar mesmo assim? (S/N): "
    if /i not "%CONTINUAR%"=="S" exit /b 1
)

REM Cria arquivo .env
echo API_KEY=%API_KEY%> .env

if exist ".env" (
    cls
    echo.
    echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    echo โ                                                               โ
    echo โ              โ ARQUIVO .env CRIADO!                          โ
    echo โ                                                               โ
    echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    echo.
    echo Arquivo criado em: %CD%\.env
    echo.
    echo Conteรบdo:
    echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    type .env
    echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    echo.
    echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    echo  ๐ PRรXIMO PASSO:
    echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    echo.
    echo Execute: START.bat
    echo.
    echo Isso vai iniciar o sistema completo com o simulador DX.
    echo.
) else (
    echo.
    echo โ Erro ao criar arquivo .env
    pause
    exit /b 1
)

pause
